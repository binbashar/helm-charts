#
# Project metadata
#
metadata:
  org: "binbash.com.ar/devops/"
  maintainer: "DevOps (devops@binbash.com.ar)"
  description: "Desired state file for Binbash DEVELOPMENT environment."

#
# Kubectl, Helm and Helmsman settings
#
settings:
  kubeContext: "cluster-1.k8s.devstg.binbash.aws"    # Will try connect to this context first, otherwise, it will be created
  storageBackend: "secret"                              # Use secret for storage, default is configMap
  tillerless: true                                      # Run helm in tillerless mode

#
# Define below the namespaces that will be used by the charts
#
namespaces:
  devops-utils:
    protected: false                                # Protect this from deletion?
    installTiller: false                            # Do not install Tiller on the cluster
    labels:                                         # Add useful labels to this namespace
      env: "dev"
  onetimesecret:
    protected: false
    installTiller: false
    labels:
      env: "dev"

#
# Define below the charts that will be deployed on this environment
#
apps:
  kube-job-cleaner:
    namespace: devops-utils                         # Maps to the namespace defined in the namespaces section above
    enabled: true                                   # Set to false if you want to delete this app release
    chart: ../charts/kube-job-cleaner/              # Local path to the chart; or chart name if you use one from a repository
    version: 0.1.0                                  # Which version to deploy
    name: kube-job-cleaner                          # This should be unique across all apps
    description: kube-job-cleaner                   # Just a nice description
    valuesFile: ./kube-job-cleaner/values.yaml      # Override default chart values
    purge: true                                     # Make helm purge this release when it is removed
  
  onetimesecret:
    namespace: onetimesecret
    enabled: true
    chart: ../charts/onetimesecret/
    version: 0.1.1
    name: onetimesecret
    description: OneTimeSecret
    valuesFiles:
      - ./onetimesecret/values.yaml
      - ./onetimesecret/secrets.yaml
    purge: true
